"use strict";(globalThis["webpackChunkwehlo_app"]=globalThis["webpackChunkwehlo_app"]||[]).push([[608],{9227:(e,t,a)=>{a.r(t),a.d(t,{default:()=>K});var r=a(1758);const l={class:"row"},s={class:"col-3 self-center q-pa-sm text-right"},o={class:""},i={class:"row"},n={class:"col-3 self-center q-pa-sm text-right"},d={class:""},c={class:"row"},u={class:"col-3 self-center q-pa-sm text-right"},m={class:""};function g(e,t,a,g,h,b){const p=(0,r.g2)("q-avatar"),k=(0,r.g2)("q-btn"),f=(0,r.g2)("q-space"),w=(0,r.g2)("q-toolbar"),v=(0,r.g2)("q-route-tab"),A=(0,r.g2)("q-tabs"),F=(0,r.g2)("q-header"),_=(0,r.g2)("q-item-label"),q=(0,r.g2)("q-item-section"),x=(0,r.g2)("q-icon"),y=(0,r.g2)("q-item"),L=(0,r.g2)("q-scroll-area"),S=(0,r.g2)("q-drawer"),Q=(0,r.g2)("Alerts"),I=(0,r.g2)("Search"),C=(0,r.g2)("router-view"),D=(0,r.g2)("q-page-container"),M=(0,r.g2)("q-layout");return e.preload?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(M,{key:0,view:"lHr lpr lFr"},{default:(0,r.k6)((()=>[(0,r.bF)(F,{elevated:""},{default:(0,r.k6)((()=>[(0,r.bF)(w,{class:"bg-secondary q-py-sm"},{default:(0,r.k6)((()=>[(0,r.bF)(k,{color:"white",to:"/dashboard"},{default:(0,r.k6)((()=>[(0,r.bF)(p,{size:"65px",square:""},{default:(0,r.k6)((()=>t[9]||(t[9]=[(0,r.Lk)("img",{src:"/logo.png",width:"65px"},null,-1)]))),_:1})])),_:1}),(0,r.bF)(f),(0,r.bF)(k,{flat:"",dense:"",round:"",color:"white",icon:"notifications","aria-label":"Notifications",class:"q-mr-sm",onClick:t[0]||(t[0]=t=>e.alerts.drawer=!e.alerts.drawer)}),(0,r.bF)(k,{flat:"",dense:"",round:"",color:"white",icon:"settings","aria-label":"Settings",class:"q-mr-sm",onClick:t[1]||(t[1]=t=>e.settings.drawer=!e.settings.drawer)}),(0,r.bF)(k,{flat:"",dense:"",round:"",color:"white",icon:"logout","aria-label":"Logout",onClick:t[2]||(t[2]=t=>e.onLogout())})])),_:1}),"Dashboard"!==e.$route.name&&"Profile"!==e.$route.name?((0,r.uX)(),(0,r.Wv)(A,{key:0,align:"justify",class:"bg-grey-2 text-grey-8","inline-label":"","indicator-color":"transparent","active-bg-color":"dark","active-color":"white","mobile-arrows":""},{default:(0,r.k6)((()=>[(0,r.bF)(v,{label:"Summaries",icon:"dashboard",to:"/devices/"+e.$route.params.uuid+"/sensors"},null,8,["to"]),(0,r.bF)(v,{label:"Analytics",icon:"chart",to:"/devices/"+e.$route.params.uuid+"/analytics"},null,8,["to"]),(0,r.bF)(v,{label:"SMS",icon:"phone",to:"/devices/"+e.$route.params.uuid+"/sms"},null,8,["to"])])),_:1})):(0,r.Q3)("",!0)])),_:1}),(0,r.bF)(S,{modelValue:e.settings.drawer,"onUpdate:modelValue":t[4]||(t[4]=t=>e.settings.drawer=t),width:300,elevated:"",side:"right"},{default:(0,r.k6)((()=>[(0,r.bF)(L,{class:"fit"},{default:(0,r.k6)((()=>[(0,r.Lk)("div",l,[t[10]||(t[10]=(0,r.Lk)("div",{class:"q-px-md col-9 self-center q-py-sm text-weight-medium text-h6 text-grey-8"}," Settings ",-1)),(0,r.Lk)("div",s,[(0,r.bF)(k,{icon:"close",flat:"",onClick:t[3]||(t[3]=t=>e.cloaseAllDrawer())})])]),(0,r.Lk)("div",o,[(0,r.bF)(y,{clickable:"",to:"/profile"},{default:(0,r.k6)((()=>[(0,r.bF)(q,null,{default:(0,r.k6)((()=>[(0,r.bF)(_,{class:"text-weight-medium"},{default:(0,r.k6)((()=>t[11]||(t[11]=[(0,r.eW)("Change Password")]))),_:1})])),_:1}),(0,r.bF)(q,{side:""},{default:(0,r.k6)((()=>[(0,r.bF)(x,{name:"launch",size:"xs"})])),_:1})])),_:1})])])),_:1})])),_:1},8,["modelValue"]),(0,r.bF)(S,{modelValue:e.alerts.drawer,"onUpdate:modelValue":t[6]||(t[6]=t=>e.alerts.drawer=t),width:300,elevated:"",side:"right"},{default:(0,r.k6)((()=>[(0,r.bF)(L,{class:"fit"},{default:(0,r.k6)((()=>[(0,r.Lk)("div",i,[t[12]||(t[12]=(0,r.Lk)("div",{class:"q-px-md col-9 self-center q-py-sm text-weight-medium text-h6 text-grey-8"}," Alerts ",-1)),(0,r.Lk)("div",n,[(0,r.bF)(k,{icon:"close",flat:"",onClick:t[5]||(t[5]=t=>e.cloaseAllDrawer())})])]),(0,r.Lk)("div",d,[(0,r.bF)(Q)])])),_:1})])),_:1},8,["modelValue"]),(0,r.bF)(S,{modelValue:e.search.drawer,"onUpdate:modelValue":t[8]||(t[8]=t=>e.search.drawer=t),width:300,elevated:"",side:"right"},{default:(0,r.k6)((()=>[(0,r.bF)(L,{class:"fit"},{default:(0,r.k6)((()=>[(0,r.Lk)("div",c,[t[13]||(t[13]=(0,r.Lk)("div",{class:"q-px-md col-9 self-center q-py-sm text-weight-medium text-h6 text-grey-8"}," Location Assessment ",-1)),(0,r.Lk)("div",u,[(0,r.bF)(k,{icon:"close",flat:"",onClick:t[7]||(t[7]=t=>e.cloaseAllDrawer())})])]),(0,r.Lk)("div",m,[(0,r.bF)(I)])])),_:1})])),_:1},8,["modelValue"]),(0,r.bF)(D,null,{default:(0,r.k6)((()=>[(0,r.bF)(C)])),_:1})])),_:1}))}a(310),a(6724);var h=a(8790);const b=["src"],p={class:"text-weight-bold text-dark"};function k(e,t,a,l,s,o){const i=(0,r.g2)("q-separator"),n=(0,r.g2)("q-item-section"),d=(0,r.g2)("q-item-label"),c=(0,r.g2)("q-item");return(0,r.uX)(),(0,r.CE)("div",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.rows,((t,a)=>((0,r.uX)(),(0,r.CE)("div",{key:a},[(0,r.bF)(i,{inset:""}),(0,r.bF)(c,{clickable:""},{default:(0,r.k6)((()=>[(0,r.bF)(n,{side:""},{default:(0,r.k6)((()=>[(0,r.Lk)("img",{src:"/category/"+t.sensor_category.img,width:"25px"},null,8,b)])),_:2},1024),(0,r.bF)(n,null,{default:(0,r.k6)((()=>[(0,r.bF)(d,{caption:"",class:"text-weight-medium"},{default:(0,r.k6)((()=>[(0,r.eW)((0,h.v_)(t.device.name),1)])),_:2},1024),(0,r.bF)(d,{caption:"",class:"text-weight-medium"},{default:(0,r.k6)((()=>[(0,r.eW)((0,h.v_)(t.sensor_category.name)+": ",1),(0,r.Lk)("span",p,(0,h.v_)(t.result),1)])),_:2},1024)])),_:2},1024),(0,r.bF)(n,{side:""},{default:(0,r.k6)((()=>[(0,r.bF)(d,{caption:""},{default:(0,r.k6)((()=>[(0,r.eW)((0,h.v_)(e.reformatDate(t.created_at)),1)])),_:2},1024),(0,r.bF)(d,{caption:""},{default:(0,r.k6)((()=>[(0,r.eW)((0,h.v_)(e.reformatTime(t.created_at)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])))),128))])}var f=a(6246);const w=(0,r.pM)({name:"AlertsPage",data(){return{preload:!0,rows:[]}},created(){this.index()},methods:{reformatDate(e){return f.Ay.formatDate(e,"MMMM DD, YYYY")},reformatTime(e){return f.Ay.formatDate(e,"h:mm a")},index(){this.$api.get("/app/notifications",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{this.rows=e.data,this.preload=!1}))}}});var v=a(2807),A=a(386),F=a(124),_=a(5173),q=a(3796),x=a(8582),y=a.n(x);const L=(0,v.A)(w,[["render",k]]),S=L;y()(w,"components",{QSeparator:A.A,QItem:F.A,QItemSection:_.A,QItemLabel:q.A});const Q={class:"q-px-md"};function I(e,t,a,l,s,o){const i=(0,r.g2)("q-input");return(0,r.uX)(),(0,r.CE)("div",Q,[(0,r.bF)(i,{dense:"",square:"",filled:"",label:"Search Location",color:"dark",autofocus:""})])}const C=(0,r.pM)({name:"SearchPage"});var D=a(9270);const M=(0,v.A)(C,[["render",I]]),V=M;y()(C,"components",{QInput:D.A});const $=(0,r.pM)({name:"MainLayout",components:{Alerts:S,Search:V},data(){return{preload:!0,menu:!0,settings:{drawer:!1},map:{drawer:!1},sensors:{drawer:!1},alerts:{drawer:!1},search:{drawer:!1}}},created(){this.getAuthUser()},methods:{cloaseAllDrawer(){this.settings.drawer=!1,this.map.drawer=!1,this.sensors.drawer=!1,this.alerts.drawer=!1,this.search.drawer=!1,this.menu=!0},getAuthUser(){this.$api.get("/user",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{localStorage.setItem("name",e.data.name),localStorage.setItem("email",e.data.email),localStorage.setItem("portal",e.data.portal),localStorage.setItem("role",e.data.role),localStorage.setItem("client",JSON.stringify(e.data.client)),this.preload=!1}))},onLogout(){localStorage.removeItem("token"),this.$router.push("/")}}});var T=a(2008),W=a(8416),X=a(6914),P=a(6384),U=a(3952),z=a(3676),E=a(2980),Y=a(878),B=a(6056),H=a(8958),N=a(492),j=a(5205);const J=(0,v.A)($,[["render",g]]),K=J;y()($,"components",{QLayout:T.A,QHeader:W.A,QToolbar:X.A,QBtn:P.A,QAvatar:U.A,QSpace:z.A,QTabs:E.A,QRouteTab:Y.A,QDrawer:B.A,QScrollArea:H.A,QItem:F.A,QItemSection:_.A,QItemLabel:q.A,QIcon:N.A,QPageContainer:j.A})}}]);