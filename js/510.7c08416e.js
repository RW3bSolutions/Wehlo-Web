"use strict";(globalThis["webpackChunkwehlo_app"]=globalThis["webpackChunkwehlo_app"]||[]).push([[510],{5510:(e,a,s)=>{s.r(a),s.d(a,{default:()=>v});var t=s(1758),r=s(8790);const o={key:0,class:"row"},l={class:"col-12 col-sm-12 col-md-6 col-lg-4 q-pa-sm"},d={class:"col-12 col-sm-12 col-md-6 col-lg-4 q-pa-sm"},n={key:0,class:"text-red text-caption"},i={key:0,class:"text-red text-caption"};function u(e,a,s,u,p,c){const m=(0,t.g2)("q-item-label"),f=(0,t.g2)("q-card-section"),b=(0,t.g2)("q-separator"),h=(0,t.g2)("q-card"),g=(0,t.g2)("q-input"),k=(0,t.g2)("q-btn"),_=(0,t.g2)("q-page");return(0,t.uX)(),(0,t.Wv)(_,{class:"q-pa-sm"},{default:(0,t.k6)((()=>[e.profile?((0,t.uX)(),(0,t.CE)("div",o,[(0,t.Lk)("div",l,[(0,t.bF)(h,null,{default:(0,t.k6)((()=>[(0,t.bF)(f,{class:"bg-grey-2"},{default:(0,t.k6)((()=>[(0,t.bF)(m,null,{default:(0,t.k6)((()=>a[3]||(a[3]=[(0,t.eW)("User Information")]))),_:1})])),_:1}),(0,t.bF)(f,null,{default:(0,t.k6)((()=>[(0,t.bF)(m,null,{default:(0,t.k6)((()=>a[4]||(a[4]=[(0,t.eW)("Name:")]))),_:1}),(0,t.bF)(m,{caption:"",class:"text-weight-medium text-dark"},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(e.profile.name),1)])),_:1})])),_:1}),(0,t.bF)(b,{inset:""}),(0,t.bF)(f,null,{default:(0,t.k6)((()=>[(0,t.bF)(m,null,{default:(0,t.k6)((()=>a[5]||(a[5]=[(0,t.eW)("Email:")]))),_:1}),(0,t.bF)(m,{caption:"",class:"text-weight-medium text-dark"},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(e.profile.email),1)])),_:1})])),_:1}),(0,t.bF)(b,{inset:""}),(0,t.bF)(f,null,{default:(0,t.k6)((()=>[(0,t.bF)(m,null,{default:(0,t.k6)((()=>a[6]||(a[6]=[(0,t.eW)("Role:")]))),_:1}),(0,t.bF)(m,{caption:"",class:"text-weight-medium text-dark"},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(e.profile.role),1)])),_:1})])),_:1})])),_:1})]),(0,t.Lk)("div",d,[(0,t.bF)(h,null,{default:(0,t.k6)((()=>[(0,t.bF)(f,{class:"bg-grey-2"},{default:(0,t.k6)((()=>[(0,t.bF)(m,null,{default:(0,t.k6)((()=>a[7]||(a[7]=[(0,t.eW)("Change Password")]))),_:1})])),_:1}),(0,t.bF)(f,null,{default:(0,t.k6)((()=>[(0,t.bF)(g,{type:"password",dense:"",square:"",label:"New Password",modelValue:e.form.password,"onUpdate:modelValue":a[0]||(a[0]=a=>e.form.password=a)},null,8,["modelValue"]),e.errors&&e.errors.password?((0,t.uX)(),(0,t.CE)("span",n,(0,r.v_)(e.errors.password[0]),1)):(0,t.Q3)("",!0)])),_:1}),(0,t.bF)(f,{class:"q-pt-none"},{default:(0,t.k6)((()=>[(0,t.bF)(g,{type:"password",dense:"",square:"",label:"Confirm Password",modelValue:e.form.password_confirmation,"onUpdate:modelValue":a[1]||(a[1]=a=>e.form.password_confirmation=a)},null,8,["modelValue"]),e.errors&&e.errors.password_confirmation?((0,t.uX)(),(0,t.CE)("span",i,(0,r.v_)(e.errors.password_confirmation[0]),1)):(0,t.Q3)("",!0)])),_:1}),(0,t.bF)(f,{class:"q-pt-none text-right"},{default:(0,t.k6)((()=>[(0,t.bF)(k,{label:"Change Password",color:"dark",onClick:a[2]||(a[2]=a=>e.changePassword()),disable:e.submitted},null,8,["disable"])])),_:1})])),_:1})])])):(0,t.Q3)("",!0)])),_:1})}const p=(0,t.pM)({name:"ProfilePage",data(){return{preload:!0,profile:null,form:{password:null,password_confirmation:null},submitted:!1,errors:[]}},created(){this.getAuthUser()},methods:{getAuthUser(){this.$api.get("/user",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{this.profile=e.data,this.preload=!1}))},changePassword(){this.errors=[],this.submitted=!0,this.$api.post("/app/change-password",{password:this.form.password,password_confirmation:this.form.password_confirmation},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((e=>{this.submitted=!1,this.$q.notify({progress:!0,type:"positive",message:"Success",icon:"check"})})).catch((e=>{422===e.response.status&&(this.errors=e.response.data.errors),this.submitted=!1}))}}});var c=s(2807),m=s(7716),f=s(3316),b=s(4189),h=s(3796),g=s(386),k=s(9270),_=s(2374),w=s(8582),F=s.n(w);const q=(0,c.A)(p,[["render",u]]),v=q;F()(p,"components",{QPage:m.A,QCard:f.A,QCardSection:b.A,QItemLabel:h.A,QSeparator:g.A,QInput:k.A,QBtn:_.A})}}]);